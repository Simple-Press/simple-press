(function(o,t,c){quickLinksForum={init:function(){t("#spQuickLinksForumSelect").change(function(){o.changeUrl(this)})}},quickLinksForumMobile={init:function(){t("#spQLFTitle").click(function(){var i=t(this).data();o.openQuickLinks(i.tagidlist,i.target,i.open,i.close)})}},quickLinksTopic={init:function(){t("#spQuickLinksTopicSelect").change(function(){o.changeUrl(this)})}},quickLinksTopicMobile={init:function(){t("#spQLTitle").click(function(){var i=t(this).data();o.openQuickLinks(i.tagidlist,i.target,i.open,i.close)})}},openCloseControl={init:function(){t(".spOpenClose").click(function(){var i=t(this).data();o.openCloseSection(i.targetid,i.tagid,i.tagclass,i.openicon,i.closeicon,i.tipopen,i.tipclose,i.setcookie,i.label,i.linkclass)})}},goToBottom={init:function(){t(".spGoBottom").click(function(){document.getElementById("spForumBottom").scrollIntoView(!1)})}},loginout={init:function(){t(".spLogInOut").click(function(){o.toggleLayer("spLoginForm")})}},openSearch={init:function(){t(".spOpenSearch").click(function(){o.toggleLayer("spSearchContainer")})}},userNotice={init:function(){t(".spUserNotice").click(function(){var i=t(this).data();o.removeNotice(i.site,i.nid)})}},markAllRead={init:function(){t(".spMarkAllRead").click(function(){var i=t(this).data();o.markRead(i.ajaxurl),i.mobile==1&&(t("#"+i.tagid).slideUp(),o.resetMobileMenu())})}},unreadPosts={init:function(){t(".spUnreadPostsPopup").click(function(){var i=t(this).data();i.popup==1?o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align):o.inlineTopics(i.target,i.site,i.spinner,i.id,i.open,i.close)})}},markForumRead={init:function(){t(".spMarkThisForumRead").click(function(){var i=t(this).data();o.markForumRead(i.ajaxurl,i.count),i.mobile==1&&(t("#"+i.tagid).slideUp(),o.resetMobileMenu())})}},searchFormSubmit={init:function(){t(".spSearchSubmit").click(function(){var i=t(this).data();o.validateSearch(this,i.id,i.type,i.min)})}},advancedSearchForm={init:function(){t(".spAdvancedSearchForm").click(function(){var i=t(this).data();o.toggleLayer(i.id)})}},closeMobilePanel={init:function(){t(document).on("click","#spPanelClose",function(){o.resetMobileMenu()})}},mobileMenuOpen={init:function(){t(".spMobileMenuOpen").click(function(i){var n=t(this).data();o.dialogPanelHtml(this,n.source),i.preventDefault()})}},cancelScript={init:function(){t(".spCancelScript").click(function(i){i.preventDefault(),o.cancelScript()})}},membersUsergroupSelect={init:function(){t("#sp_usergroup_select").change(function(){o.changeUrl(this)})}},openDialog={init:function(){t(".spOpenDialog").click(function(){var i=t(this).data();o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align),t("#dialog, #spMobilePanel").one("opened",function(){cancelScript.init()})})}},groupHeaderOpen={init:function(){t(".spGroupHeaderOpen").click(function(){var i=t(this).data();i.collapse==1&&t(i.id).click()})}},groupOpenClose={init:function(){t(".spOpenCloseGroup").click(function(){var i=t(this).data();o.openCloseForums(i.target,i.tag,i.tclass,i.open,i.close,i.toolopen,i.toolclose)})}},forumPageJump={init:function(){t(".spForumPageJump").click(function(){var i=t(this).data();o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align),t("#dialog, #spMobilePanel").one("opened",function(n){t(".spJumpPage").click(function(a){a.preventDefault(),o.pageJump()})})})}},newTopicButton={init:function(){t(".spNewTopicButton").click(function(){var i=t(this).data();o.openEditor(i.form,i.type)})}},forumTopicTools={init:function(){t(".spForumTopicTools").click(function(){var i=t(this).data();o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align),t("#dialog, #spMobilePanel").one("opened",function(){e()})})}},newPostButton={init:function(){t(".spNewPostButton").click(function(){var i=t(this).data();o.openEditor(i.form,i.type)})}},topicPageJump={init:function(){t(".spTopicPageJump").click(function(){var i=t(this).data();o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align),t("#dialog, #spMobilePanel").one("opened",function(n){t(".spJumpPage").click(function(a){a.preventDefault(),o.pageJump()})})})}},showEditHistory={init:function(){t(".spEditPostHistory").click(function(){var i=t(this).data();o.dialogHtml(this,i.html,i.label,i.width,i.height,i.align)})}},printPost={init:function(){t(".spPrintThisPost").click(function(){var i=t(this).data();return t("#"+i.postid).printThis(),!1})}},quotePost={init:function(){t(".spQuotePost").click(function(){var i=t(this).data();o.quotePost(i.postid,i.intro,i.forumid,i.url)})}},deletePost={init:function(){t(".spDeletePost").click(function(){var i=t(this).data();o.deletePost(i.url,i.postid,i.topicid)})}},checkMath={init:function(){t(".spMathCheck").keyup(function(){var i=t(this).data();i.type=="topic"?o.setTopicButton(this,i.val1,i.val2,i.buttongood,i.buttonbad):o.setPostButton(this,i.val1,i.val2,i.buttongood,i.buttonbad)})}},forumPostTools={init:function(){t(".spForumPostTools").click(function(){var i=t(this).data();o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align),t("#dialog, #spMobilePanel").one("opened",function(){e()})})}},apiShowSpoiler={init:function(){t(".spShowSpoiler").click(function(){var i=t(this).data();o.toggleSpoiler(i.spoilerid,i.reveal,i.hide)})}},apiShowPopupImage={init:function(){t(".spShowPopupImage").click(function(){var i=t(this).data();o.popupImage(i.src,i.width,i.height,i.constrain)})}},apiSelectCode={init:function(){t(".sfcodeselect").click(function(){var i=t(this).data();o.selectCode(i.codeid)})}},formsInsertSmiley={init:function(){t(".spEditor img.spSmiley").click(function(){var i=t(this).data();o.editorInsertSmiley(i.url,i.title,i.path,i.code)})}},formsCancelEditor={init:function(){t(".spCancelEditor").click(function(){var i=t(this).data();confirm(i.msg)&&o.editorCancel()})}},formsProcessFlag={init:function(){t(".spProcessFlag").click(function(){var i=t(this).data();o.setProcessFlag(this),confirm(i.msg)&&document.editpostform.submit()})}},formsOpenEditorBox={init:function(){t(".spEditorBoxOpen").click(function(){var i=t(this).data();o.openEditorBox(i.box)})}},formsEditTimestamp={init:function(){t("#sfeditTimestamp").click(function(){o.toggleLayer("spHiddenTimestamp")})}},formsAddTopic={init:function(){t("#addtopic").submit(function(i){var n=t(this).data(),a=o.validatePostForm(this,n.guest,1,n.img);a||i.preventDefault()})}},formsAddPost={init:function(){t("#addpost").submit(function(i){var n=t(this).data(),a=o.validatePostForm(this,n.guest,0,n.img);a||i.preventDefault()})}},formsEditPost={init:function(){t("#editpostform").submit(function(){o.setProcessFlag(this)})}},profileClearSignature={init:function(){t(".spClearSignature").on("click",function(){o.clearIt("postitem")})}},profileShowPermissions={init:function(){t(".spLoadPermissions").on("click",function(){var i=t(this).data();o.loadTool(i.url,"perm"+i.id,i.img),t(".spProfileUserPermissions").on("click","#spClosePerms"+i.id,function(){t("#perm"+i.id).html("")})})}},profileDelUploadedAvatar={init:function(){t("#spDeleteUploadedAvatar").on("click",function(){var i=t(this).data();o.removeAvatar(i.url,i.target,i.spinner)})}},profileShowPoolAvatars={init:function(){t(".spShowAvatarPool").on("click",function(){var i=t(this).data();o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align),t("#dialog, #spMobilePanel").one("opened",function(){t(".spSelectPoolAvatar").on("click",function(){var n=t(this).data();o.selectAvatar(n.src,n.file,n.text),sp_platform_vars.device=="mobile"?o.resetMobileMenu():t("#dialog").dialog("close")})})})}},profileDelPoolAvatar={init:function(){t("#spDeletePoolAvatar").on("click",function(){var i=t(this).data();o.removePool(i.url,i.target,i.spinner)})}},toolsViewEmail={init:function(){t(".spToolsEmail").click(function(){var i=t(this).data();o.dialogHtml(this,i.html,i.title,i.width,i.height,i.align)})}},toolsPinPost={init:function(){t(".spToolsPin").click(function(){var i=t(this).data();o.pinPost(i.url),t("#dialog").dialog("isOpen")&&t("#dialog").dialog("close")})}},toolsSortPosts={init:function(){t(".spToolsPostSort").click(function(){var i=t(this).data();o.loadTool(i.url,i.target,"")})}},toolsEditPost={init:function(){t(".spToolsEdit").click(function(){var i=t(this).data();t("#"+i.form).submit()})}},toolsDeletePost={init:function(){t(".spToolsDeletePost").click(function(){var i=t(this).data();o.deletePost(i.url,i.postid,i.topicid)})}},toolsMovePosts={init:function(){t(".spToolsMovePosts").click(function(){var i=t(this).data();o.dialogAjax(this,i.site,i.label,i.width,i.height,i.align),t("#dialog, #spMobilePanel").one("opened",function(){cancelScript.init(),t("#movetonew").click(function(){t("#oldtopic").hide(),t("#newtopic").show()}),t("#movetoold").click(function(){t("#newtopic").hide(),t("#oldtopic").show()})})})}},toolsSortTopics={init:function(){t(".spToolsTopicSort").click(function(){var i=t(this).data();o.loadTool(i.url,i.target,"")})}},toolsLockTopic={init:function(){t(".spToolsLockTopic").click(function(){var i=t(this).data();o.lockTopic(i.url),t("#dialog").dialog("isOpen")&&t("#dialog").dialog("close")})}},toolsPinTopic={init:function(){t(".spToolsPinTopic").click(function(){var i=t(this).data();o.pinTopic(i.url),t("#dialog").dialog("isOpen")&&t("#dialog").dialog("close")})}},toolsDeleteTopic={init:function(){t(".spToolsDeleteTopic").click(function(){var i=t(this).data();o.deleteTopic(i.url,i.topicid,i.forumid)})}},t(document).ready(function(){quickLinksForum.init(),quickLinksForumMobile.init(),quickLinksTopic.init(),quickLinksTopicMobile.init(),openCloseControl.init(),goToBottom.init(),loginout.init(),openSearch.init(),userNotice.init(),markAllRead.init(),unreadPosts.init(),markForumRead.init(),searchFormSubmit.init(),advancedSearchForm.init(),closeMobilePanel.init(),mobileMenuOpen.init(),cancelScript.init(),membersUsergroupSelect.init(),openDialog.init(),groupHeaderOpen.init(),groupOpenClose.init(),forumPageJump.init(),newTopicButton.init(),forumTopicTools.init(),newPostButton.init(),topicPageJump.init(),showEditHistory.init(),printPost.init(),quotePost.init(),deletePost.init(),checkMath.init(),forumPostTools.init(),apiShowSpoiler.init(),apiShowPopupImage.init(),apiSelectCode.init(),formsInsertSmiley.init(),formsCancelEditor.init(),formsProcessFlag.init(),formsOpenEditorBox.init(),formsEditTimestamp.init(),formsAddTopic.init(),formsAddPost.init(),formsEditPost.init(),t("#spProfileContent").on("profilecontentloaded",function(){profileClearSignature.init(),profileShowPermissions.init(),profileDelUploadedAvatar.init(),profileShowPoolAvatars.init(),profileDelPoolAvatar.init()})});function e(){openDialog.init(),toolsViewEmail.init(),toolsPinPost.init(),toolsSortPosts.init(),toolsEditPost.init(),toolsDeletePost.init(),toolsMovePosts.init(),toolsSortTopics.init(),toolsLockTopic.init(),toolsPinTopic.init(),toolsDeleteTopic.init(),t("#dialog, #spMobilePanel").trigger("forum_tools_init")}})(window.spj=window.spj||{},jQuery);
